jQuery(document).ready(function(){vipStaging.init()});var vipStaging={ajaxPath:"https://vipstagingblog.wordpress.com/wp-admin/admin-ajax.php",cookieName:"wpvip_staging_info_showing",init:function(){vipStaging.bindActions(),vipStaging.sendNotification(),"true"!=Cookies.get(this.cookieName)&&jQuery(".staging__info").removeClass("visible")},bindActions:function(){jQuery(".staging__button").on("click",function(){vipStaging.toggleInfo()}),jQuery(".staging__toggle input").on("click",function(){vipStaging.toggleSwitch()})},toggleInfo:function(){jQuery(".staging__info").toggleClass("visible"),Cookies.set(this.cookieName,jQuery(".staging__info").hasClass("visible")),event.preventDefault(),vipStaging.pullDeployInfo(),vipStaging.killNotification()},toggleSwitch:function(){jQuery("#staging-vip").hasClass("live")?(jQuery("#staging-vip").removeClass("live").addClass("staging loading"),Cookies.set(this.cookieName,!0)):jQuery("#staging-vip").hasClass("staging")&&jQuery("#staging-vip").removeClass("staging").addClass("live loading"),jQuery(".staging__toggle input").attr("disabled",!0),vipStaging.ajaxToggleAndReload()},ajaxToggleAndReload:function(){jQuery.ajax({url:this.ajaxPath,method:"POST",data:{action:"vip_staging_toggle",is_staging:wp_vip_staging.is_staging?"0":"1"},success:function(a){window.setTimeout(function(){location.reload(!0)},300)}})},pullDeployInfo:function(){jQuery.ajax({url:this.ajaxPath,method:"POST",data:{action:"vip_staging_deploy_info"},success:function(a){vipStaging.updateDeployInfoMarkup(a)}})},sendNotification:function(){window.setTimeout(function(){},Math.floor(3e3*Math.random()))},killNotification:function(){jQuery(".staging__notice").removeClass("visible")},updateDeployInfoMarkup:function(a){var b,c,d=a.data;d.has_child?(b="r"+d.child_theme.committed_rev,c="r"+d.child_theme.deployed_rev):!1!==d.parent_child?(b="r"+d.parent_theme.committed_rev,c="r"+d.parent_theme.deployed_rev):(b="unknown",c="unknown"),jQuery(".staging__revisions .revision-live").text(b),jQuery(".staging__revisions .revision-staging").text(c)}};